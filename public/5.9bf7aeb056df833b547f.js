(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{GCp2:function(e,t,s){"use strict";s.r(t),s.d(t,"AdminModule",(function(){return he}));var i=s("SVse"),r=s("s7LF"),a=s("iInd"),n=s("q59W"),c=s("8Y7J"),o=s("qfBg"),l=s("jMqV"),d=s("Tj54"),b=s("hzfI"),u=s("zHaW");let p=(()=>{class e{transform(e){if(e)return e.replace(/\xe1/gi,"a").replace(/\xe9/gi,"e").replace(/\xed/gi,"i").replace(/\xf3/gi,"o").replace(/\xfa/gi,"u").replace(/\xf1/gi,"n").replace(/[^a-zA-Z0-9]/gi,"").toLowerCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=c.Lb({name:"getidstring",type:e,pure:!0}),e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var m=s("Q2Ze"),h=s("e6WT");function S(e,t){1&e&&(c.Sb(0,"button",13),c.wc(1," Crear Comercio "),c.Rb())}function f(e,t){if(1&e&&(c.Sb(0,"div",10),c.Sb(1,"div",11),c.vc(2,S,2,0,"button",12),c.Rb(),c.Rb()),2&e){const e=c.dc();c.Ab(2),c.jc("ngIf",!e.companyEdit)}}function v(e,t){if(1&e){const e=c.Tb();c.Sb(0,"div",14),c.Sb(1,"div",15),c.Sb(2,"button",16),c.wc(3," Guardar "),c.Rb(),c.Rb(),c.Sb(4,"div",11),c.Sb(5,"button",17),c.Zb("click",(function(){c.pc(e);const t=c.dc(),s=c.oc(1);return t.resetForm(s)})),c.wc(6," Limpiar "),c.Rb(),c.Rb(),c.Rb()}}let g=(()=>{class e{constructor(e,t,s){this.userService=e,this.snack=t,this.getidstring=s,this.newCompany=new c.n}ngOnInit(){this.forma=new r.g({company:new r.e("",[r.u.required,this.validatorSetId.bind(this)]),companyString:new r.e({value:"",disabled:!0}),city:new r.e("",r.u.required),addressStreet:new r.e("",r.u.required),addressNumber:new r.e("",r.u.required)})}ngOnChanges(e){var t;null===(t=this.forma)||void 0===t||t.patchValue({company:e.companyEdit.currentValue.tx_company_name,city:e.companyEdit.currentValue.cd_city,addressStreet:e.companyEdit.currentValue.tx_address_street,addressNumber:e.companyEdit.currentValue.tx_address_number})}validatorSetId(e){var t;return this.publicName=this.getidstring.transform(e.value),null===(t=this.forma)||void 0===t||t.patchValue({companyString:this.publicName}),null}checkCompanyExists(){if(this.companyEdit&&this.publicName===this.companyEdit.tx_public_name)return;let e=this.publicName;(null==e?void 0:e.length)>3&&this.userService.checkCompanyExists(e).subscribe(e=>{e.ok||(this.forma.controls.company.setErrors({incorrect:!0}),this.forma.setErrors({companyExists:!0}))})}createCompany(e){if(this.forma.invalid)return void this.snack.open("Faltan datos por favor verifique","Aceptar",{duration:5e3});const t={id_user:this.userService.user._id,tx_company_name:this.forma.value.company,tx_public_name:this.publicName,cd_city:this.forma.value.city,tx_address_street:this.forma.value.addressStreet,tx_address_number:this.forma.value.addressNumber};this.companyEdit?(t._id=this.companyEdit._id,this.userService.updateCompany(t).subscribe(t=>{this.newCompany.emit(t.company),this.snack.open(t.msg,null,{duration:5e3}),this.resetForm(e)},e=>{this.snack.open(e.error.msg,null,{duration:5e3})})):this.userService.createCompany(t).subscribe(t=>{this.newCompany.emit(t.company),this.resetForm(e),t.ok?(this.userService.attachCompany(t.company),this.snack.open("Empresa creada correctamente",null,{duration:2e3})):this.snack.open(t.msg,null,{duration:5e3})},()=>{this.snack.open("Error al crear la empresa",null,{duration:2e3})})}resetForm(e){this.companyEdit=null,this.forma.enable(),this.forma.reset(),e.resetForm(),this.userService.scrollTop()}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(o.a),c.Mb(u.a),c.Mb(p))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-company-create"]],inputs:{companyEdit:"companyEdit"},outputs:{newCompany:"newCompany"},features:[c.yb],decls:26,vars:3,consts:[["autocomplete","off","ngNativeValidate","",2,"color","brown",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["color","warn","appearance","fill","logincss","",1,"w-100"],["matInput","","placeholder","Nombre de la empresa","formControlName","company","name","company","type","text","required","",3,"keyup"],["matInput","","placeholder","Nombre de la empresa","formControlName","companyString","name","companyString","type","text","required",""],["matInput","","placeholder","Ciudad","formControlName","city","name","city","type","text","required",""],["matInput","","placeholder","Calle","formControlName","addressStreet","name","addressStreet","type","text","required",""],["matInput","","placeholder","1234","formControlName","addressNumber","name","addressNumber","type","text","required",""],["class","row text-center",4,"ngIf"],["class","row",4,"ngIf"],[1,"row","text-center"],[1,"col"],["class","btn btn-success btn-block text-uppercase","type","submit",4,"ngIf"],["type","submit",1,"btn","btn-success","btn-block","text-uppercase"],[1,"row"],[1,"col","w-100"],["type","submit",1,"btn","btn-danger","btn-block","text-uppercase"],[1,"btn","btn-warning","btn-block","text-uppercase",3,"click"]],template:function(e,t){if(1&e){const e=c.Tb();c.Sb(0,"form",0,1),c.Zb("ngSubmit",(function(){c.pc(e);const s=c.oc(1);return t.createCompany(s)})),c.Sb(2,"mat-form-field",2),c.Sb(3,"mat-label"),c.wc(4,"Nombre de la Empresa"),c.Rb(),c.Sb(5,"mat-error"),c.wc(6,"Esta Empresa ya se encuentra registrada!"),c.Rb(),c.Sb(7,"input",3),c.Zb("keyup",(function(){return t.checkCompanyExists()})),c.Rb(),c.Rb(),c.Sb(8,"mat-form-field",2),c.Sb(9,"mat-label"),c.wc(10,"Nombre p\xfablico"),c.Rb(),c.Nb(11,"input",4),c.Rb(),c.Sb(12,"mat-form-field",2),c.Sb(13,"mat-label"),c.wc(14,"Ciudad"),c.Rb(),c.Nb(15,"input",5),c.Rb(),c.Sb(16,"mat-form-field",2),c.Sb(17,"mat-label"),c.wc(18,"Calle"),c.Rb(),c.Nb(19,"input",6),c.Rb(),c.Sb(20,"mat-form-field",2),c.Sb(21,"mat-label"),c.wc(22,"Altura"),c.Rb(),c.Nb(23,"input",7),c.Rb(),c.vc(24,f,3,1,"div",8),c.vc(25,v,7,0,"div",9),c.Rb()}2&e&&(c.jc("formGroup",t.forma),c.Ab(24),c.jc("ngIf",!t.companyEdit),c.Ab(1),c.jc("ngIf",t.companyEdit))},directives:[r.p,r.h,m.c,m.f,m.b,h.b,r.d,r.o,r.f,r.t,i.j],styles:[""]}),e})();function k(e,t){1&e&&(c.Sb(0,"span"),c.Sb(1,"mat-icon",15),c.wc(2,"check"),c.Rb(),c.Rb())}function w(e,t){if(1&e){const e=c.Tb();c.Sb(0,"tr"),c.Sb(1,"td"),c.wc(2),c.Rb(),c.Sb(3,"td"),c.vc(4,k,3,0,"span",11),c.Rb(),c.Sb(5,"td",12),c.Sb(6,"mat-icon",13),c.Zb("click",(function(){c.pc(e);const s=t.$implicit;return c.dc().editCompany(s)})),c.wc(7,"edit"),c.Rb(),c.Sb(8,"mat-icon",14),c.Zb("click",(function(){c.pc(e);const s=t.$implicit;return c.dc().deleteCompany(s._id)})),c.wc(9,"delete "),c.Rb(),c.Rb(),c.Rb()}if(2&e){const e=t.$implicit,s=c.dc();c.Ab(2),c.yc(" ",null==e?null:e.tx_company_name," "),c.Ab(2),c.jc("ngIf",e._id===(null==s.companyUpdated?null:s.companyUpdated._id))}}let y=(()=>{class e{constructor(e,t){this.userService=e,this.snack=t}ngOnInit(){this.user=this.userService.user,this.user._id&&this.readCompanies(this.user._id),this.userSubscription=this.userService.user$.subscribe(e=>{e&&(this.user=e)})}editCompany(e){this.companyEdit=e}newCompany(e){this.companyUpdated=e,this.readCompanies(this.user._id)}deleteCompany(e){this.snack.open("Desea eliminar la empresa?","ELIMINAR",{duration:1e4}).afterDismissed().subscribe(t=>{t.dismissedByAction&&this.userService.deleteCompany(e).subscribe(t=>{var s;this.snack.open(t.msg,null,{duration:2e3}),this.companies=this.companies.filter(t=>t._id!=e),this.userService.companies=this.companies,this.userService.companiesSource.next(this.companies),e===(null===(s=this.user.id_company)||void 0===s?void 0:s._id)&&(this.user.id_company=null,localStorage.setItem("user",JSON.stringify(this.user)))},e=>{this.snack.open(e.msg,null,{duration:2e3})})})}readCompanies(e){this.userService.readCompanies(e).subscribe(e=>{this.companies=e.companies,this.userService.companies=e.companies})}ngOnDestroy(){this.userSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(o.a),c.Mb(u.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-companies"]],decls:13,vars:2,consts:[[1,"saturno-container","animated","fadeIn","p-2"],[1,"card","bg-success","lead","text-white"],[1,"card-header"],[1,"card-body","table-responsive-sm"],[1,"table","table-sm","text-white"],[4,"ngFor","ngForOf"],[1,"my-4"],[1,"card","lead"],[1,"card-header","bg-success"],[1,"card-body"],[3,"companyEdit","newCompany"],[4,"ngIf"],[2,"text-align","right"],[1,"ml-2","list-crud-edit",3,"click"],[1,"ml-2","list-crud-delete",3,"click"],[1,"ml-2","list-crud-edit"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.wc(3,"Empresas"),c.Rb(),c.Sb(4,"div",3),c.Sb(5,"table",4),c.vc(6,w,10,2,"tr",5),c.Rb(),c.Rb(),c.Rb(),c.Nb(7,"div",6),c.Sb(8,"div",7),c.Sb(9,"div",8),c.wc(10,"Alta de empresa"),c.Rb(),c.Sb(11,"div",9),c.Sb(12,"app-company-create",10),c.Zb("newCompany",(function(e){return t.newCompany(e)})),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e&&(c.Ab(6),c.jc("ngForOf",t.companies),c.Ab(6),c.jc("companyEdit",t.companyEdit))},directives:[i.i,g,i.j,d.a],styles:[""]}),e})(),R=(()=>{class e{constructor(e,t){this.userService=e,this.snack=t,this.skillCreated=new c.n}ngOnInit(){this.forma=new r.g({cdSkill:new r.e(null,r.u.required),txSkill:new r.e(null,r.u.required)})}createSkill(e){this.forma.invalid||this.userService.createSkill({id_company:this.userService.user.id_company._id,cd_skill:this.forma.value.cdSkill,tx_skill:this.forma.value.txSkill,bl_generic:!1,_id:null}).subscribe(t=>{t.ok&&(this.skillCreated.emit(t.skill),this.snack.open(t.msg,null,{duration:5e3}),this.resetForm(e))},e=>{this.snack.open(e.error.msg,null,{duration:5e3})})}resetForm(e){e.resetForm(),this.forma.reset(),this.userService.scrollTop()}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(o.a),c.Mb(u.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-skill-create-form"]],outputs:{skillCreated:"skillCreated"},decls:13,vars:1,consts:[["autocomplete","off","ngNativeValidate","",2,"color","brown",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["color","warn","appearance","fill",1,"w-100"],["matInput","","placeholder","V","formControlName","cdSkill","name","cdSkill","type","text","maxlength","2","required",""],["matInput","","placeholder","Ventas","formControlName","txSkill","name","txSkill","type","text","required",""],[1,"form-group","text-center"],["type","submit",1,"btn","btn-success","btn-block","text-uppercase","waves-effect","waves-light"]],template:function(e,t){if(1&e){const e=c.Tb();c.Sb(0,"form",0,1),c.Zb("ngSubmit",(function(){c.pc(e);const s=c.oc(1);return t.createSkill(s)})),c.Sb(2,"mat-form-field",2),c.Sb(3,"mat-label"),c.wc(4,"Prefijo"),c.Rb(),c.Nb(5,"input",3),c.Rb(),c.Sb(6,"mat-form-field",2),c.Sb(7,"mat-label"),c.wc(8,"Descripcion"),c.Rb(),c.Nb(9,"input",4),c.Rb(),c.Sb(10,"div",5),c.Sb(11,"button",6),c.wc(12,"Crear Skill"),c.Rb(),c.Rb(),c.Rb()}2&e&&c.jc("formGroup",t.forma)},directives:[r.p,r.h,m.c,m.f,h.b,r.d,r.o,r.f,r.j,r.t],styles:[""]}),e})();function _(e,t){1&e&&(c.Sb(0,"div"),c.wc(1,"Activadas"),c.Rb())}function A(e,t){1&e&&(c.Sb(0,"div"),c.wc(1,"Desactivadas"),c.Rb())}function I(e,t){if(1&e){const e=c.Tb();c.Sb(0,"tr"),c.Sb(1,"td"),c.wc(2),c.Rb(),c.Sb(3,"td"),c.wc(4),c.Rb(),c.Sb(5,"td",12),c.Sb(6,"mat-icon",13),c.Zb("click",(function(){c.pc(e);const s=t.$implicit;return c.dc(2).deleteSkill(s._id)})),c.wc(7,"delete "),c.Rb(),c.Rb(),c.Rb()}if(2&e){const e=t.$implicit;c.Ab(2),c.yc(" ",null==e?null:e.cd_skill," "),c.Ab(2),c.yc(" ",null==e?null:e.tx_skill," ")}}function x(e,t){if(1&e&&(c.Sb(0,"div",9),c.Sb(1,"table",10),c.vc(2,I,8,2,"tr",11),c.Rb(),c.Rb()),2&e){const e=c.dc();c.Ab(2),c.jc("ngForOf",e.skills)}}function N(e,t){if(1&e){const e=c.Tb();c.Sb(0,"div",14),c.Sb(1,"div",15),c.wc(2),c.Rb(),c.Sb(3,"div",16),c.Sb(4,"app-skill-create-form",17),c.Zb("skillCreated",(function(t){return c.pc(e),c.dc().skillCreated(t)})),c.Rb(),c.Rb(),c.Rb()}if(2&e){const e=c.dc();c.Ab(2),c.yc("Alta de Skills para ",null==e.user.id_company?null:e.user.id_company.tx_company_name,"")}}let C=(()=>{class e{constructor(e,t){this.userService=e,this.snack=t,this.activateSkills=!1,this.activateSlide=!0}ngOnInit(){this.userService.user&&(this.user=this.userService.user,this.user.id_company&&this.readSkills(this.user.id_company._id).then(e=>{0===e.length&&this.createGenericSkill().catch(()=>{this.userService.snackShow("Error al crear el skill por defecto!",5e3)})}),this.userSubscription=this.userService.user$.subscribe(e=>{e&&(this.user=e,e.id_company&&this.readSkills(e.id_company._id))}))}deleteSkill(e){this.snack.open("Desea eliminar el skill?","ELIMINAR",{duration:1e4}).afterDismissed().subscribe(t=>{t.dismissedByAction&&this.userService.deleteSkill(e).subscribe(t=>{t.ok&&(this.snack.open(t.msg,null,{duration:5e3}),this.skills=this.skills.filter(t=>t._id!=e),this.userService.skills=this.skills)},e=>{this.snack.open(e.msg,null,{duration:5e3})})})}skillCreated(e){this.skills.push(e)}readSkills(e){return new Promise(t=>{this.userService.readSkills(e).subscribe(e=>{e.ok&&(this.skills=e.skills,this.userService.skills=e.skills,0===e.skills.length||(1===e.skills.length&&e.skills[0].bl_generic?this.activateSkills=!1:e.skills.length>1&&(this.activateSkills=!0)),t(e.skills))})})}toggleSkills(){if(this.activateSlide)if(this.activateSkills)if(this.skills.length>0){let e=!1;for(let t of this.skills)if(!1===t.bl_generic){e=!0;break}e&&(this.activateSlide=!1,this.userService.snackAsk("Hay habilidades creadas, desea eliminarlas?","Aceptar",5e3).then(()=>{this.deleteAllSkills().then(()=>this.createGenericSkill().then(()=>{this.activateSkills=!1,this.activateSlide=!0,this.userService.snackShow("Habilidades Desactivadas!",2e3)})).catch(()=>{this.activateSkills=!0,this.activateSlide=!0,this.userService.snackShow("Error al eliminar las habilidades!",5e3)})}).catch(()=>{this.activateSkills=!0,this.activateSlide=!0}))}else this.createGenericSkill();else this.deleteAllSkills()}deleteAllSkills(){return new Promise(e=>{if(this.skills.length>0){for(let e of this.skills)this.userService.deleteSkill(e._id).subscribe(e=>{e.ok&&(this.skills=this.skills.filter(t=>t._id!==e.skill._id),this.userService.skills=this.skills)});e()}})}createGenericSkill(){return new Promise((e,t)=>{this.userService.createSkill({id_company:this.userService.user.id_company._id,bl_generic:!0,_id:null}).subscribe(t=>{t.ok&&(this.skills.push(t.skill),this.userService.skills=this.skills,e(t.skill))},e=>{this.snack.open(e.error.msg,null,{duration:5e3}),t(null)})})}ngOnDestroy(){this.userSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(o.a),c.Mb(u.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-skills"]],decls:12,vars:6,consts:[[1,"saturno-container","animated","fadeIn","p-2"],[1,"card","bg-danger","lead","text-white"],[1,"card-header","d-flex"],[2,"width","100%","text-align","right"],["labelPosition","before",3,"disabled","ngModel","ngModelChange","click"],[4,"ngIf"],["class","card-body table-responsive-sm",4,"ngIf"],[1,"my-4"],["class","card lead",4,"ngIf"],[1,"card-body","table-responsive-sm"],[1,"table","table-sm","text-white"],[4,"ngFor","ngForOf"],[2,"text-align","right"],[1,"ml-2","list-crud-delete",3,"click"],[1,"card","lead"],[1,"card-header"],[1,"card-body"],[3,"skillCreated"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"div"),c.wc(4," Habilidades "),c.Rb(),c.Sb(5,"div",3),c.Sb(6,"mat-slide-toggle",4),c.Zb("ngModelChange",(function(e){return t.activateSkills=e}))("click",(function(){return t.toggleSkills()})),c.vc(7,_,2,0,"div",5),c.vc(8,A,2,0,"div",5),c.Rb(),c.Rb(),c.Rb(),c.vc(9,x,3,1,"div",6),c.Rb(),c.Nb(10,"div",7),c.vc(11,N,5,1,"div",8),c.Rb()),2&e&&(c.Ab(6),c.jc("disabled",!t.activateSlide)("ngModel",t.activateSkills),c.Ab(1),c.jc("ngIf",t.activateSkills),c.Ab(1),c.jc("ngIf",!t.activateSkills),c.Ab(1),c.jc("ngIf",t.activateSkills),c.Ab(2),c.jc("ngIf",t.activateSkills))},directives:[l.a,r.o,r.r,i.j,i.i,d.a,R],styles:[""]}),e})(),E=(()=>{class e{constructor(e,t){this.userService=e,this.snack=t,this.desktopCreated=new c.n}ngOnInit(){this.forma=new r.g({cdDesktop:new r.e(null,r.u.required),idType:new r.e(null)})}createDesktop(e){this.forma.invalid||this.userService.createDesktop({id_company:this.userService.user.id_company._id,cd_desktop:this.forma.value.cdDesktop,id_session:null,__v:null,_id:null}).subscribe(t=>{this.desktopCreated.emit(t.desktop),this.snack.open(t.msg,null,{duration:5e3}),this.resetForm(e)},e=>{this.snack.open(e.error.msg,null,{duration:5e3})})}resetForm(e){e.resetForm(),this.forma.reset(),this.userService.scrollTop()}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(o.a),c.Mb(u.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-desktop-create-form"]],outputs:{desktopCreated:"desktopCreated"},decls:9,vars:1,consts:[["autocomplete","off","ngNativeValidate","",2,"color","brown",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["color","warn","appearance","fill",1,"w-100"],["matInput","","placeholder","Identificador de escritorio","formControlName","cdDesktop","name","cdDesktop","type","text","required",""],[1,"form-group","text-center"],["type","submit",1,"btn","btn-success","btn-block","text-uppercase","waves-effect","waves-light"]],template:function(e,t){if(1&e){const e=c.Tb();c.Sb(0,"form",0,1),c.Zb("ngSubmit",(function(){c.pc(e);const s=c.oc(1);return t.createDesktop(s)})),c.Sb(2,"mat-form-field",2),c.Sb(3,"mat-label"),c.wc(4,"ID Escritorio"),c.Rb(),c.Nb(5,"input",3),c.Rb(),c.Sb(6,"div",4),c.Sb(7,"button",5),c.wc(8,"Crear Escritorio"),c.Rb(),c.Rb(),c.Rb()}2&e&&c.jc("formGroup",t.forma)},directives:[r.p,r.h,m.c,m.f,h.b,r.d,r.o,r.f,r.t],styles:[""]}),e})();function j(e,t){if(1&e){const e=c.Tb();c.Sb(0,"tr"),c.Sb(1,"td"),c.wc(2),c.Rb(),c.Sb(3,"td",10),c.Sb(4,"mat-icon",11),c.Zb("click",(function(){c.pc(e);const s=t.$implicit;return c.dc().editDesktop(s._id)})),c.wc(5,"edit"),c.Rb(),c.Sb(6,"mat-icon",12),c.Zb("click",(function(){c.pc(e);const s=t.$implicit;return c.dc().deleteDesktop(s._id)})),c.wc(7,"delete "),c.Rb(),c.Rb(),c.Rb()}if(2&e){const e=t.$implicit;c.Ab(2),c.xc(null==e?null:e.cd_desktop)}}let q=(()=>{class e{constructor(e,t){this.userService=e,this.snack=t}ngOnInit(){this.userService.user&&(this.user=this.userService.user,this.user.id_company&&this.readDesktops(this.user.id_company._id),this.userSubscription=this.userService.user$.subscribe(e=>{e&&(this.user=e,e.id_company&&this.readDesktops(e.id_company._id))}))}editDesktop(e){}deleteDesktop(e){this.snack.open("Desea eliminar el escritorio?","ELIMINAR",{duration:1e4}).afterDismissed().subscribe(t=>{t.dismissedByAction&&this.userService.deleteDesktop(e).subscribe(t=>{this.snack.open(t.msg,null,{duration:5e3}),this.desktops=this.desktops.filter(t=>t._id!=e)},e=>{this.snack.open(e.msg,null,{duration:5e3})})})}desktopCreated(e){this.desktops.push(e)}readDesktops(e){this.userService.readDesktops(e).subscribe(e=>{this.desktops=e.desktops,this.userService.desktops=e.desktops})}ngOnDestroy(){this.userSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(o.a),c.Mb(u.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-desktops"]],decls:13,vars:2,consts:[[1,"saturno-container","animated","fadeIn","p-2"],[1,"card","bg-info","lead","text-white"],[1,"card-header"],[1,"card-body","table-responsive-sm"],[1,"table","table-sm","text-white"],[4,"ngFor","ngForOf"],[1,"my-4"],[1,"card","lead"],[1,"card-body"],[3,"desktopCreated"],[2,"text-align","right"],[1,"ml-2","list-crud-edit",3,"click"],[1,"ml-2","list-crud-delete",3,"click"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.wc(3,"Escritorios"),c.Rb(),c.Sb(4,"div",3),c.Sb(5,"table",4),c.vc(6,j,8,1,"tr",5),c.Rb(),c.Rb(),c.Rb(),c.Nb(7,"div",6),c.Sb(8,"div",7),c.Sb(9,"div",2),c.wc(10),c.Rb(),c.Sb(11,"div",8),c.Sb(12,"app-desktop-create-form",9),c.Zb("desktopCreated",(function(e){return t.desktopCreated(e)})),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e&&(c.Ab(6),c.jc("ngForOf",t.desktops),c.Ab(4),c.yc("Alta de Escritorios para ",null==t.user.id_company?null:t.user.id_company.tx_company_name,""))},directives:[i.i,E,d.a],styles:[""]}),e})();var T=s("LRne"),D=s("ZTz/"),M=s("UhP/"),O=s("SqCe");function F(e,t){if(1&e){const e=c.Tb();c.Sb(0,"mat-option",17),c.Zb("click",(function(){c.pc(e);const s=t.$implicit;return c.dc().getSkills(s._id)})),c.wc(1),c.Rb()}if(2&e){const e=t.$implicit;c.jc("value",e._id),c.Ab(1),c.yc(" ",e.tx_company_name," ")}}function V(e,t){if(1&e){const e=c.Tb();c.Sb(0,"mat-list-option",23),c.Zb("click",(function(){c.pc(e);const s=t.$implicit;return c.dc(2).setNewSkill(s)})),c.Sb(1,"span",24),c.wc(2),c.Rb(),c.Rb()}if(2&e){const e=t.$implicit;c.jc("value",e._id),c.Ab(2),c.xc(e.tx_skill)}}const L=function(){return{standalone:!0}};function G(e,t){if(1&e){const e=c.Tb();c.Sb(0,"div",18),c.Sb(1,"div",19),c.wc(2,"SKILLS"),c.Rb(),c.Sb(3,"div",20),c.Sb(4,"mat-selection-list",21),c.Zb("ngModelChange",(function(t){return c.pc(e),c.dc().selStrSkills=t})),c.vc(5,V,3,2,"mat-list-option",22),c.Rb(),c.Rb(),c.Rb()}if(2&e){const e=c.dc();c.Ab(4),c.jc("ngModelOptions",c.lc(3,L))("ngModel",e.selStrSkills),c.Ab(1),c.jc("ngForOf",e.skills)}}function Z(e,t){1&e&&(c.Sb(0,"button",28),c.wc(1," Crear Asistente "),c.Rb())}function P(e,t){if(1&e&&(c.Sb(0,"div",25),c.Sb(1,"div",26),c.vc(2,Z,2,0,"button",27),c.Rb(),c.Rb()),2&e){const e=c.dc();c.Ab(2),c.jc("ngIf",!e.assistantEdit)}}function $(e,t){if(1&e){const e=c.Tb();c.Sb(0,"div",29),c.Sb(1,"div",30),c.Sb(2,"button",31),c.wc(3," Guardar "),c.Rb(),c.Rb(),c.Sb(4,"div",26),c.Sb(5,"button",32),c.Zb("click",(function(){c.pc(e);const t=c.dc(),s=c.oc(1);return t.resetForm(s)})),c.wc(6," Limpiar "),c.Rb(),c.Rb(),c.Rb()}}let U=(()=>{class e{constructor(e,t){this.userService=e,this.snack=t,this.updateAssistants=new c.n,this.skills=[],this.manejaError=e=>Object(T.a)(e)}ngOnInit(){this.forma=new r.g({rol:new r.e(null,r.u.required),idCompany:new r.e(null,r.u.required),nombre:new r.e(null,r.u.required),email:new r.e(null,[r.u.required,r.u.email]),password:new r.e(null,r.u.required),password2:new r.e(null,r.u.required)},{validators:this.sonIguales("password","password2")})}ngOnChanges(e){var t,s,i,r,a,n,c,o,l;null===(t=this.forma)||void 0===t||t.enable(),"ADMIN_ROLE"===(null===(s=e.assistantEdit.currentValue)||void 0===s?void 0:s.id_role)&&(this.forma.controls.rol.disable(),this.forma.controls.email.disable()),(null===(i=e.assistantEdit.currentValue)||void 0===i?void 0:i.id_company._id)&&this.getSkills(e.assistantEdit.currentValue.id_company._id),(null===(a=null===(r=e.assistantEdit.currentValue)||void 0===r?void 0:r.id_company)||void 0===a?void 0:a._id)&&(null===(n=this.forma)||void 0===n||n.patchValue({idCompany:e.assistantEdit.currentValue.id_company._id})),null===(c=this.forma)||void 0===c||c.patchValue({rol:e.assistantEdit.currentValue.id_role,email:e.assistantEdit.currentValue.tx_email,nombre:e.assistantEdit.currentValue.tx_name,password:"******",password2:"******"}),this.selStrSkills=null===(l=null===(o=e.assistantEdit)||void 0===o?void 0:o.currentValue)||void 0===l?void 0:l.id_skills}getSkills(e){this.userService.readSkills(e).subscribe(e=>{this.skills=e.skills})}sonIguales(e,t){return s=>s.controls[e].value===s.controls[t].value?null:{password:"Las contrase\xf1as deben ser iguales"}}setNewSkill(e){}createAssistant(e){var t;if(!this.selStrSkills||0===this.selStrSkills.length)return void this.snack.open("Seleccione al menos un skill","ACEPTAR",{duration:5e3});if(this.forma.invalid)return void((null===(t=this.forma.errors)||void 0===t?void 0:t.password)&&this.snack.open(this.forma.errors.password,"ACEPTAR",{duration:5e3}));const s={id_role:this.forma.controls.rol.value,id_company:this.forma.value.idCompany,tx_name:this.forma.value.nombre,tx_email:this.forma.controls.email.value,tx_password:this.forma.value.password,id_skills:this.selStrSkills};this.assistantEdit?(s._id=this.assistantEdit._id,this.userService.updateAssistant(s).subscribe(t=>{t.ok&&(t.user._id===this.userService.user._id&&this.userService.pushUser(t.user),this.updateAssistants.emit(t.user._id),this.snack.open(t.msg,null,{duration:5e3}),this.resetForm(e))},e=>{this.snack.open(e.error.msg,null,{duration:5e3})})):this.userService.createAssistant(s).subscribe(t=>{this.updateAssistants.emit(t.user._id),this.snack.open(t.msg,null,{duration:5e3}),this.resetForm(e),e.resetForm()},e=>{this.snack.open(e.error.msg,null,{duration:5e3})})}resetForm(e){this.assistantEdit=null,this.forma.enable(),this.forma.reset(),e.resetForm(),this.userService.scrollTop()}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(o.a),c.Mb(u.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-assistant-create-form"]],inputs:{assistantEdit:"assistantEdit"},outputs:{updateAssistants:"updateAssistants"},features:[c.yb],decls:35,vars:5,consts:[["autocomplete","off","ngNativeValidate","",2,"color","brown",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["color","warn","appearance","fill","logincss","",1,"w-100"],["formControlName","rol","name","rol","required",""],["value","ADMIN_ROLE"],["value","ASSISTANT_ROLE"],["color","warn","appearance","fill",1,"w-100"],["formControlName","idCompany","name","idCompany","matNativeControl","","required",""],["selectDesktop",""],[3,"value","click",4,"ngFor","ngForOf"],["matInput","","placeholder","Nombre","formControlName","nombre","name","nombre","type","text","required","","placeholder","Nombre"],["matInput","","placeholder","Email","formControlName","email","name","email","type","email","required",""],["matInput","","placeholder","Clave","formControlName","password","name","password","type","password","required","","placeholder","Contrase\xf1a","autocomplete","new-password"],["matInput","","placeholder","Clave","formControlName","password2","name","password2","type","password","required","","placeholder","Confirma contrase\xf1a","autocomplete","new-password"],["class","card mb-4",4,"ngIf"],["class","row text-center",4,"ngIf"],["class","row",4,"ngIf"],[3,"value","click"],[1,"card","mb-4"],[1,"card-header"],[1,"card-body"],[3,"ngModelOptions","ngModel","ngModelChange"],["name","selStrSkills",3,"value","click",4,"ngFor","ngForOf"],["name","selStrSkills",3,"value","click"],[1,"mat-select-option-nowarp"],[1,"row","text-center"],[1,"col"],["class","btn btn-success btn-block text-uppercase","type","submit",4,"ngIf"],["type","submit",1,"btn","btn-success","btn-block","text-uppercase"],[1,"row"],[1,"col","w-100"],["type","submit",1,"btn","btn-danger","btn-block","text-uppercase"],[1,"btn","btn-warning","btn-block","text-uppercase",3,"click"]],template:function(e,t){if(1&e){const e=c.Tb();c.Sb(0,"form",0,1),c.Zb("ngSubmit",(function(){c.pc(e);const s=c.oc(1);return t.createAssistant(s)})),c.Sb(2,"mat-form-field",2),c.Sb(3,"mat-label"),c.wc(4,"Rol"),c.Rb(),c.Sb(5,"mat-select",3),c.Sb(6,"mat-option",4),c.wc(7," Administrador y Asistente"),c.Rb(),c.Sb(8,"mat-option",5),c.wc(9," Asistente "),c.Rb(),c.Rb(),c.Rb(),c.Sb(10,"mat-form-field",6),c.Sb(11,"mat-label"),c.wc(12,"Seleccione una empresa"),c.Rb(),c.Sb(13,"mat-select",7,8),c.vc(15,F,2,2,"mat-option",9),c.Rb(),c.Rb(),c.Sb(16,"mat-form-field",6),c.Sb(17,"mat-label"),c.wc(18,"Nombre"),c.Rb(),c.Nb(19,"input",10),c.Rb(),c.Sb(20,"mat-form-field",6),c.Sb(21,"mat-label"),c.wc(22,"Email"),c.Rb(),c.Nb(23,"input",11),c.Rb(),c.Sb(24,"mat-form-field",6),c.Sb(25,"mat-label"),c.wc(26,"Clave"),c.Rb(),c.Nb(27,"input",12),c.Rb(),c.Sb(28,"mat-form-field",6),c.Sb(29,"mat-label"),c.wc(30,"Clave"),c.Rb(),c.Nb(31,"input",13),c.Rb(),c.vc(32,G,6,4,"div",14),c.vc(33,P,3,1,"div",15),c.vc(34,$,7,0,"div",16),c.Rb()}2&e&&(c.jc("formGroup",t.forma),c.Ab(15),c.jc("ngForOf",t.userService.companies),c.Ab(17),c.jc("ngIf","ASSISTANT_ROLE"===(null==t.assistantEdit?null:t.assistantEdit.id_role)||!t.assistantEdit),c.Ab(1),c.jc("ngIf",!t.assistantEdit),c.Ab(1),c.jc("ngIf",t.assistantEdit))},directives:[r.p,r.h,m.c,m.f,D.a,r.o,r.f,r.t,M.l,i.i,h.b,r.d,i.j,O.c,r.r,O.b],styles:[".mat-select-option-nowarp[_ngcontent-%COMP%]{float:left;width:-webkit-max-content;width:max-content}"]}),e})(),z=(()=>{class e{transform(e,t){let s=document.getElementById("wt-form");if(s){let t,i=s.offsetWidth;i<260&&(t=8),i>=260&&i<280&&(t=9),i>=280&&i<300&&(t=10),i>=300&&i<320&&(t=11),i>=320&&i<340&&(t=12),i>=340&&i<360&&(t=13),i>=360&&i<380&&(t=14),i>=380&&i<400&&(t=15),i>=400&&(t=16);let r=e.length>t?"...":"";return e.substr(0,t)+r}return null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=c.Lb({name:"wordMaxLength",type:e,pure:!0}),e})();function B(e,t){1&e&&(c.Sb(0,"span"),c.Sb(1,"mat-icon",14),c.wc(2,"check"),c.Rb(),c.Rb())}function J(e,t){1&e&&(c.Sb(0,"span"),c.Sb(1,"mat-icon",15),c.wc(2,"star"),c.Rb(),c.Rb())}function H(e,t){if(1&e){const e=c.Tb();c.Sb(0,"mat-icon",16),c.Zb("click",(function(){c.pc(e);const t=c.dc().$implicit;return c.dc().deleteAssistant(t._id)})),c.wc(1,"delete "),c.Rb()}}function W(e,t){if(1&e){const e=c.Tb();c.Sb(0,"tr"),c.Sb(1,"td"),c.wc(2),c.ec(3,"wordMaxLength"),c.Rb(),c.Sb(4,"td"),c.vc(5,B,3,0,"span",10),c.Rb(),c.Sb(6,"td"),c.vc(7,J,3,0,"span",10),c.Rb(),c.Sb(8,"td",11),c.Sb(9,"mat-icon",12),c.Zb("click",(function(){c.pc(e);const s=t.$implicit;return c.dc().editAssistant(s)})),c.wc(10,"edit"),c.Rb(),c.vc(11,H,2,0,"mat-icon",13),c.Rb(),c.Rb()}if(2&e){const e=t.$implicit,s=c.dc();c.Ab(2),c.yc("",c.gc(3,4,null==e?null:e.tx_name,8)," "),c.Ab(3),c.jc("ngIf",e._id===s.assistantUpdated),c.Ab(2),c.jc("ngIf","ADMIN_ROLE"===e.id_role),c.Ab(4),c.jc("ngIf",e._id!==s.userService.user._id)}}let K=(()=>{class e{constructor(e,t){this.userService=e,this.snack=t}ngOnInit(){this.userService.user&&(this.user=this.userService.user,this.user.id_company&&this.readAssistants(this.user.id_company._id),this.userSubscription=this.userService.user$.subscribe(e=>{e&&(this.user=e,e.id_company&&this.readAssistants(e.id_company._id))}))}editAssistant(e){this.assistantEdit=e}deleteAssistant(e){e!==this.userService.user._id?this.snack.open("Desea eliminar el asistente?","ELIMINAR",{duration:1e4}).afterDismissed().subscribe(t=>{t.dismissedByAction&&this.userService.deleteAssistant(e).subscribe(t=>{this.snack.open(t.msg,null,{duration:5e3}),this.assistants=this.assistants.filter(t=>t._id!=e)},e=>{this.snack.open(e.msg,null,{duration:5e3})})}):this.userService.snackShow("Usted no puede borrar su propio usuario!",2e3)}updateAssistants(e){this.assistantUpdated=e,this.readAssistants(this.userService.user.id_company._id)}readAssistants(e){this.userService.readAssistants(e).subscribe(e=>{this.assistants=e.users,this.userService.assistants=e.users})}ngOnDestroy(){this.userSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(o.a),c.Mb(u.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-assistants"]],decls:13,vars:3,consts:[[1,"animated","saturno-container","fadeIn","p-2"],[1,"card","bg-primary","lead","text-white"],[1,"card-header"],[1,"card-body","table-responsive-sm"],["id","wt-form",1,"table","table-sm","text-white"],[4,"ngFor","ngForOf"],[1,"my-4"],[1,"card","lead"],[1,"card-body"],[3,"assistantEdit","updateAssistants"],[4,"ngIf"],[2,"text-align","right"],[1,"ml-2","list-crud-edit",3,"click"],["class","ml-2 list-crud-delete",3,"click",4,"ngIf"],[1,"ml-2","list-crud-edit"],[1,"ml-2","list-crud-star"],[1,"ml-2","list-crud-delete",3,"click"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.wc(3,"Asistentes"),c.Rb(),c.Sb(4,"div",3),c.Sb(5,"table",4),c.vc(6,W,12,7,"tr",5),c.Rb(),c.Rb(),c.Rb(),c.Nb(7,"div",6),c.Sb(8,"div",7),c.Sb(9,"div",2),c.wc(10),c.Rb(),c.Sb(11,"div",8),c.Sb(12,"app-assistant-create-form",9),c.Zb("updateAssistants",(function(e){return t.updateAssistants(e)})),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e&&(c.Ab(6),c.jc("ngForOf",t.assistants),c.Ab(4),c.yc("Alta de asistentes para ",null==t.user.id_company?null:t.user.id_company.tx_company_name,""),c.Ab(2),c.jc("assistantEdit",t.assistantEdit))},directives:[i.i,U,i.j,d.a],pipes:[z],styles:[""]}),e})();const Q=["stepper"];function Y(e,t){if(1&e&&(c.Sb(0,"div",10),c.Sb(1,"div",11),c.Sb(2,"div"),c.Sb(3,"p"),c.Sb(4,"mat-icon",12),c.wc(5,"headset_mic"),c.Rb(),c.wc(6," Atender Turnos "),c.Rb(),c.Sb(7,"p"),c.wc(8," Para atender turnos s\xf3lo debe ingresar a su cuenta y luego ir al men\xfa de Asistente y tomar un escritorio. "),c.Rb(),c.Rb(),c.Nb(9,"hr"),c.Sb(10,"div"),c.Sb(11,"p"),c.Sb(12,"mat-icon",12),c.wc(13,"bookmark_border"),c.Rb(),c.wc(14," Generar Turnos "),c.Rb(),c.Sb(15,"p"),c.wc(16,' Para que sus clientes puedan crear turnos de su comercio o empresa, debe ofrecerles la direcci\xf3n web principal en saturno.live, ir a "OBTENER TURNO" y all\xed buscar su empresa por su nombre. '),c.Rb(),c.Sb(17,"p"),c.Sb(18,"a",13),c.wc(19," https://saturno.live "),c.Rb(),c.Rb(),c.Rb(),c.Nb(20,"hr"),c.Sb(21,"p"),c.Sb(22,"mat-icon",12),c.wc(23,"language"),c.Rb(),c.wc(24," Acceso directo a crear turnos "),c.Rb(),c.Sb(25,"p"),c.wc(26," La direcci\xf3n web de acceso directo a el panel de turnos de su comercio es: "),c.Rb(),c.Sb(27,"p"),c.Sb(28,"a",14),c.wc(29),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e){const e=c.dc(2);c.Ab(28),c.kc("href","https://saturno.live/#/public/",e.userService.user.id_company.tx_public_name,"",c.qc),c.Ab(1),c.yc(" https://saturno.live/#/public/",e.userService.user.id_company.tx_public_name," ")}}function X(e,t){if(1&e&&(c.Sb(0,"div"),c.Sb(1,"div",5),c.Sb(2,"h3",6),c.wc(3),c.Rb(),c.Sb(4,"button",7),c.wc(5,"Atender"),c.Rb(),c.Nb(6,"hr",8),c.vc(7,Y,30,2,"div",9),c.Rb(),c.Rb()),2&e){const e=c.dc();c.Ab(3),c.yc("Bienvenido ",null==e.userService?null:e.userService.user.tx_name,"!"),c.Ab(4),c.jc("ngIf",e.userService.user.id_company)}}function ee(e,t){1&e&&(c.Sb(0,"div"),c.Sb(1,"h3"),c.wc(2,"Comencemos"),c.Rb(),c.Sb(3,"p"),c.wc(4," Usted no tiene ning\xfan comercio registrado, desde aqu\xed usted debe registrar al menos un comercio. "),c.Rb(),c.Nb(5,"hr"),c.Sb(6,"p"),c.wc(7," Es importante que usted ingrese la direcci\xf3n exacta. Esta direcci\xf3n ser\xe1 visible para sus clientes desde el men\xfa p\xfablico de turnos y le asegura a su cliente que esta obteniendo un turno en el comercio correcto. "),c.Rb(),c.Rb())}function te(e,t){if(1&e&&(c.Sb(0,"div"),c.Sb(1,"h3"),c.wc(2,"Comercio creado "),c.Sb(3,"mat-icon",32),c.wc(4,"check"),c.Rb(),c.Rb(),c.Sb(5,"p"),c.wc(6," Las habilidades, escritorios y asistentes que registre a partir de ahora, ser\xe1n asignados a "),c.Sb(7,"span",33),c.wc(8),c.Rb(),c.Rb(),c.Nb(9,"hr"),c.Sb(10,"p",34),c.wc(11," Usted puede crear mas comercios si dispone de sucursales y moverse entre ellos seleccion\xe1ndolos desde el menu principal. "),c.Rb(),c.Sb(12,"p",35),c.Nb(13,"img",36),c.Rb(),c.Rb()),2&e){const e=c.dc(2);c.Ab(8),c.yc(" ",e.userService.user.id_company.tx_company_name," ")}}function se(e,t){1&e&&(c.Sb(0,"div",37),c.Sb(1,"p"),c.wc(2," Usted puede habilitar la opci\xf3n de habilidades si su comercio tiene diferentes segmentos que requieren diferentes habilidades de atenci\xf3n. "),c.Rb(),c.Sb(3,"p"),c.wc(4,' Por ejemplo si usted quiere generar turnos para una guardia, podr\xeda necesitar generar las habilidades de "Pediatr\xeda", "Cl\xednica" y "Traumatolog\xeda" con las abreviaturas como P, C y T respectivamente. '),c.Rb(),c.Sb(5,"p"),c.wc(6," Con las habilidades usted puede adem\xe1s definir circuitos de atenci\xf3n. Puede recibir un turno que fu\xe9 atendido en un escritorio con skill A y enviarlo luego para ser atendido a un escritorio con skill B, y as\xed sucesivamente. Al reasignar un turno tambi\xe9n puede establecer su prioridad de modo de enviarlo al inicio o al fin de la cola de espera. "),c.Rb(),c.Sb(7,"p"),c.wc(8," Las habilidades se asignan a los asistentes al momento de crearlos. Puede asignar una o mas habilidades por asistente. Su usuario tiene rol de administrador y tendr\xe1 asignadas todas las habilidades de atenci\xf3n. "),c.Rb(),c.Rb())}function ie(e,t){1&e&&(c.Sb(0,"div",37),c.Sb(1,"p"),c.wc(2," Usted como usuario administrador puede atender turnos desde el men\xfa de Asistentes. Sin embargo puede opcionalmente crear otros usuarios con rol de asistente para esa tarea. "),c.Rb(),c.Sb(3,"p"),c.wc(4," Si fueron creadas habilidades, su cuenta de usuario con rol de administrador ya tiene asignadas todas las habilidades. Sin embargo si desea crear asistentes deber\xe1 asignarle a cada asistente las habilidades que le correspondan. "),c.Rb(),c.Sb(5,"p"),c.wc(6," Tenga en cuenta que los asistentes que usted puede crear aqu\xed, deben ingresar a sus cuentas desde el mismo login de usuario pero con la opci\xf3n [ENTRAR] con su email y contrase\xf1a. "),c.Rb(),c.Rb())}function re(e,t){1&e&&(c.Sb(0,"div",38),c.wc(1," Usted no tiene asistentes creados ni habilidades asociadas a su usuario. "),c.Nb(2,"hr"),c.Sb(3,"p"),c.wc(4," Usted puede crear asistentes y asignarles habilidades, o puede omitir crear asistentes, pero en ese caso debe al menos asignarse a su propio usuario las habilidades que quiere atender. Para eso edite su usuario haciendo click en editar con el icono "),c.Sb(5,"mat-icon",39),c.wc(6,"edit"),c.Rb(),c.wc(7," y luego selecciones las habilidades en el cuadro SKILLS. "),c.Rb(),c.Rb())}function ae(e,t){if(1&e){const e=c.Tb();c.Sb(0,"mat-horizontal-stepper",15,16),c.Sb(2,"mat-step",17),c.Sb(3,"div",5),c.Sb(4,"div",18),c.Sb(5,"h3"),c.wc(6),c.Rb(),c.Sb(7,"p"),c.wc(8," Para comenzar a atender turnos debe crear, al menos un comercio, al menos un escritorio y al menos una habilidad "),c.Rb(),c.Sb(9,"p"),c.wc(10," Opcionalmente puede dar de alta asistentes. No le llevar\xe1 mas de un minuto y desde aqu\xed puede hacer todo!. "),c.Rb(),c.Nb(11,"hr"),c.Sb(12,"button",19),c.wc(13,"Comenzar"),c.Rb(),c.Nb(14,"qrcode",20),c.Rb(),c.Rb(),c.Rb(),c.Sb(15,"mat-step",21),c.vc(16,ee,8,0,"div",1),c.vc(17,te,14,1,"div",1),c.Sb(18,"div",22),c.Sb(19,"button",23),c.wc(20," Volver "),c.Rb(),c.Sb(21,"button",24),c.wc(22," Siguiente "),c.Rb(),c.Rb(),c.Nb(23,"hr"),c.Nb(24,"app-companies"),c.Rb(),c.Sb(25,"mat-step",25),c.Sb(26,"h3"),c.wc(27,"Habilidades (opcional)"),c.Rb(),c.Sb(28,"p"),c.wc(29," Este paso es opcional. Si no necesita mas de una l\xednea de turnos puede omitir este paso y continuar. Por defecto esta opci\xf3n esta desactivada. "),c.Rb(),c.Nb(30,"hr"),c.Sb(31,"div",26),c.Zb("click",(function(){c.pc(e);const t=c.dc();return t.activateSkillExplanation=!t.activateSkillExplanation})),c.wc(32," \xbfQue son los skills? (habilidades) "),c.Rb(),c.vc(33,se,9,0,"div",27),c.Sb(34,"div",22),c.Sb(35,"button",23),c.wc(36," Volver "),c.Rb(),c.Sb(37,"button",24),c.wc(38," Siguiente "),c.Rb(),c.Rb(),c.Nb(39,"hr"),c.Nb(40,"app-skills"),c.Rb(),c.Sb(41,"mat-step",28),c.Sb(42,"h3"),c.wc(43,"Escritorios"),c.Rb(),c.Sb(44,"p"),c.wc(45," Los escritorios s\xf3lo necesitan un identificador que es simplemente una etiqueta. Estos identificadores pueden ser letras o n\xfameros por ejemplo "),c.Rb(),c.Sb(46,"p"),c.wc(47,' "1", "2", "A", "B" '),c.Rb(),c.Nb(48,"hr"),c.Sb(49,"p"),c.wc(50," Este identificador debe colocarlo en cada escritorio de forma bien visible para que su cliente pueda identificar f\xe1cilmente el escritorio desde el cual fue llamado. "),c.Rb(),c.Sb(51,"div",22),c.Sb(52,"button",23),c.wc(53," Volver "),c.Rb(),c.Sb(54,"button",24),c.wc(55," Siguiente "),c.Rb(),c.Rb(),c.Nb(56,"hr"),c.Nb(57,"app-desktops"),c.Rb(),c.Sb(58,"mat-step",29),c.Sb(59,"h3"),c.wc(60,"Asistentes (opcional)"),c.Rb(),c.Sb(61,"p"),c.wc(62," Este paso es opcional. Si s\xf3lo necesita su propio usuario para atender turnos puede omitir este paso y continuar. "),c.Rb(),c.Nb(63,"hr"),c.Sb(64,"div",26),c.Zb("click",(function(){c.pc(e);const t=c.dc();return t.activateAssistantExplanation=!t.activateAssistantExplanation})),c.wc(65," \xbfQue son los asistentes? "),c.Rb(),c.vc(66,ie,7,0,"div",27),c.vc(67,re,8,0,"div",30),c.Sb(68,"div",22),c.Sb(69,"button",23),c.wc(70," Volver "),c.Rb(),c.Sb(71,"button",31),c.Zb("click",(function(){return c.pc(e),c.dc().endWizard()})),c.wc(72," Finalizar "),c.Rb(),c.Rb(),c.Nb(73,"hr"),c.Nb(74,"app-assistants"),c.Rb(),c.Rb()}if(2&e){const e=c.dc();c.Ab(6),c.yc("Hola ",null==e.userService?null:e.userService.user.tx_name,"!"),c.Ab(8),c.jc("qrdata","Your data string")("width",256)("errorCorrectionLevel","M"),c.Ab(1),c.jc("completed",(null==e.userService.companies?null:e.userService.companies.length)>0&&(null==e.userService.user||null==e.userService.user.id_company?null:e.userService.user.id_company._id)),c.Ab(1),c.jc("ngIf",0===(null==e.userService.companies?null:e.userService.companies.length)),c.Ab(1),c.jc("ngIf",(null==e.userService.companies?null:e.userService.companies.length)>0&&(null==e.userService.user||null==e.userService.user.id_company?null:e.userService.user.id_company._id)),c.Ab(4),c.jc("disabled",!e.userService.companies||!(null!=e.userService.user&&null!=e.userService.user.id_company&&e.userService.user.id_company._id)),c.Ab(4),c.jc("completed",(null==e.userService.skills?null:e.userService.skills.length)>0),c.Ab(8),c.jc("ngIf",e.activateSkillExplanation),c.Ab(4),c.jc("disabled",0===(null==e.userService.skills?null:e.userService.skills.length)),c.Ab(4),c.jc("completed",(null==e.userService.desktops?null:e.userService.desktops.length)>0),c.Ab(13),c.jc("disabled",0===(null==e.userService.desktops?null:e.userService.desktops.length)),c.Ab(4),c.jc("completed",e.userService.assistants.length>1||e.userService.user.id_skills.length>0),c.Ab(8),c.jc("ngIf",e.activateAssistantExplanation),c.Ab(1),c.jc("ngIf",1===e.userService.assistants.length&&0===e.userService.user.id_skills.length),c.Ab(4),c.jc("disabled",1===e.userService.assistants.length&&0===e.userService.user.id_skills.length)}}let ne=(()=>{class e{constructor(e){this.userService=e,this.showIntro=!0,this.config={},this.userAvailable=!1,this.activateSkillExplanation=!1,this.activateAssistantExplanation=!1}ngOnInit(){this.userService.user&&(this.user=this.userService.user),this.userSuscription=this.userService.user$.subscribe(e=>{e&&(this.user=e)}),localStorage.getItem("config")&&(this.config=JSON.parse(localStorage.getItem("config")),this.showIntro=this.config.intro)}toggleIntro(){this.config.intro=!this.showIntro,localStorage.setItem("config",JSON.stringify(this.config))}endWizard(){this.config.intro=!1,this.showIntro=!1,localStorage.setItem("config",JSON.stringify(this.config))}ngOnDestroy(){this.userSuscription.unsubscribe()}scrollTop(){document.body.scrollTop=0,document.documentElement.scrollTop=0}stepperGoBack(e){e.previous()}stepperGoNext(e){this.scrollTop(),e.next()}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(o.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-home"]],viewQuery:function(e,t){var s;1&e&&c.Cc(Q,!0),2&e&&c.nc(s=c.ac())&&(t.stepper=s.first)},features:[c.zb([{provide:n.h,useValue:{displayDefaultIndicatorType:!1}}])],decls:6,vars:3,consts:[[1,"saturno-container","shadow-box","animated","fadeIn"],[4,"ngIf"],["style","text-align: left;","labelPosition","bottom","linear","",4,"ngIf"],[1,"m-2"],[3,"ngModel","ngModelChange","click"],[1,"m-2","animated","fadeIn"],[1,"mb-4"],["routerLink","/assistant/home",1,"btn","btn-primary","btn-block"],[1,"my-4"],["class","card bg-danger text-white",4,"ngIf"],[1,"card","bg-danger","text-white"],[1,"card-body",2,"text-align","left"],[2,"vertical-align","sub"],["target","_blank","href","https://saturno.live"],["target","_blank",3,"href"],["labelPosition","bottom","linear","",2,"text-align","left"],["stepper",""],["state","star"],[1,"card-body"],["matStepperNext","",1,"btn","btn-success"],[3,"qrdata","width","errorCorrectionLevel"],["state","store",3,"completed"],[1,"row","mx-2","mt-4",2,"justify-content","space-between"],["matStepperPrevious","",1,"btn","btn-danger","col-5"],["matStepperNext","",1,"btn","btn-success","col-5",3,"disabled"],["state","playlist_add_check",3,"completed"],[1,"p-1","mb-3",2,"cursor","pointer",3,"click"],["class","animated fadeIn",4,"ngIf"],["state","important_devices",3,"completed"],["state","face",3,"completed"],["class","card bg-danger p-3 text-white",4,"ngIf"],["routerLink","/admin/home",1,"btn","btn-primary","col-5",3,"disabled","click"],[2,"color","green"],[2,"color","blue"],[1,"card-text","card-text"],[2,"text-align","center"],["src","assets/img/saturno-selector-empresas.png"],[1,"animated","fadeIn"],[1,"card","bg-danger","p-3","text-white"],[2,"font-size","medium"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.vc(1,X,8,2,"div",1),c.vc(2,ae,75,17,"mat-horizontal-stepper",2),c.Sb(3,"div",3),c.Sb(4,"mat-slide-toggle",4),c.Zb("ngModelChange",(function(e){return t.showIntro=e}))("click",(function(){return t.toggleIntro()})),c.wc(5," Ver introducci\xf3n "),c.Rb(),c.Rb(),c.Rb()),2&e&&(c.Ab(1),c.jc("ngIf",!t.showIntro),c.Ab(1),c.jc("ngIf",t.showIntro),c.Ab(2),c.jc("ngModel",t.showIntro))},directives:[i.j,l.a,r.o,r.r,a.c,d.a,b.a,b.b,b.d,b.e,y,C,q,K],styles:["a[_ngcontent-%COMP%]{color:#ffc964}"]}),e})();var ce=s("AIE+"),oe=s("TN/R");let le=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Gb({type:e,selectors:[["app-dashboard"]],decls:14,vars:4,consts:[["color","accent","appearance","fill"],["matInput","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker1",""],["color","primary"],["picker2",""]],template:function(e,t){if(1&e&&(c.Sb(0,"mat-form-field",0),c.Sb(1,"mat-label"),c.wc(2,"Inherited calendar color"),c.Rb(),c.Nb(3,"input",1),c.Nb(4,"mat-datepicker-toggle",2),c.Nb(5,"mat-datepicker",null,3),c.Rb(),c.Sb(7,"mat-form-field",0),c.Sb(8,"mat-label"),c.wc(9,"Custom calendar color"),c.Rb(),c.Nb(10,"input",1),c.Nb(11,"mat-datepicker-toggle",2),c.Nb(12,"mat-datepicker",4,5),c.Rb()),2&e){const e=c.oc(6),t=c.oc(13);c.Ab(3),c.jc("matDatepicker",e),c.Ab(1),c.jc("for",e),c.Ab(6),c.jc("matDatepicker",t),c.Ab(1),c.jc("for",t)}},directives:[m.c,m.f,h.b,oe.b,oe.d,m.g,oe.a],styles:[""]}),e})();var de=s("TGE+");const be=[{path:"home",component:ne},{path:"companies",component:y},{path:"desktops",component:q},{path:"assistants",component:K},{path:"skills",component:C},{path:"dashboard",component:le},{path:"tickets",component:(()=>{class e{constructor(e){this.ticketsService=e,this.tickets=[]}ngOnInit(){this.readTickets()}readTickets(){this.ticketsService.getTickets().then(e=>{this.tickets=e})}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(de.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-tickets"]],decls:18,vars:4,consts:[[1,"container","animated","fadeIn"],[1,"row"],[1,"col-sm-12","col-6"],["color","accent","appearance","fill"],["matInput","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker1",""],["color","primary"],["picker2",""]],template:function(e,t){if(1&e&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"mat-form-field",3),c.Sb(4,"mat-label"),c.wc(5,"Inherited calendar color"),c.Rb(),c.Nb(6,"input",4),c.Nb(7,"mat-datepicker-toggle",5),c.Nb(8,"mat-datepicker",null,6),c.Rb(),c.Rb(),c.Sb(10,"div",2),c.Sb(11,"mat-form-field",3),c.Sb(12,"mat-label"),c.wc(13,"Custom calendar color"),c.Rb(),c.Nb(14,"input",4),c.Nb(15,"mat-datepicker-toggle",5),c.Nb(16,"mat-datepicker",7,8),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e){const e=c.oc(9),t=c.oc(17);c.Ab(6),c.jc("matDatepicker",e),c.Ab(1),c.jc("for",e),c.Ab(7),c.jc("matDatepicker",t),c.Ab(1),c.jc("for",t)}},directives:[m.c,m.f,h.b,oe.b,oe.d,m.g,oe.a],styles:[""]}),e})()},{path:"",redirectTo:"/admin/home",pathMatch:"full"},{path:"**",component:ce.a}];let ue=(()=>{class e{}return e.\u0275mod=c.Kb({type:e}),e.\u0275inj=c.Jb({factory:function(t){return new(t||e)},imports:[[a.e.forChild(be)],a.e]}),e})();var pe=s("1+r1"),me=s("j1ZV");let he=(()=>{class e{}return e.\u0275mod=c.Kb({type:e}),e.\u0275inj=c.Jb({factory:function(t){return new(t||e)},imports:[[i.b,r.s,r.i,pe.a,me.a,ue]]}),e})()}}]);