(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"1c7N":function(e,t,c){"use strict";c.r(t),c.d(t,"PublicModule",(function(){return te}));var i=c("SVse"),n=c("s7LF"),s=c("iInd"),o=c("PSD3"),r=c.n(o),a=c("8Y7J"),b=c("Gyf/"),l=c("TGE+"),d=c("zHaW"),u=c("7AsR"),m=c("Tj54"),S=c("jMqV");function p(e,t){1&e&&(a.Sb(0,"h5",16),a.Sb(1,"span",17),a.wc(2," Cargando... "),a.Rb(),a.Rb())}function v(e,t){if(1&e&&(a.Sb(0,"div"),a.Sb(1,"p",18),a.wc(2," \xa1Bienvenido! Usted esta por sacar un turno para ser atendido en "),a.Rb(),a.Sb(3,"div",19),a.Sb(4,"p",20),a.wc(5),a.Rb(),a.Sb(6,"p",21),a.wc(7),a.Rb(),a.Rb(),a.Rb()),2&e){const e=a.dc(2);a.Ab(5),a.yc(" ",e.ticketsService.companyData.tx_company_name," "),a.Ab(2),a.Ac(" ",e.ticketsService.companyData.tx_address_street," ",e.ticketsService.companyData.tx_address_number," ",e.ticketsService.companyData.cd_city," ")}}function k(e,t){if(1&e){const e=a.Tb();a.Sb(0,"button",22),a.Zb("click",(function(){a.pc(e);const c=t.$implicit;return a.dc(2).createTicket(c._id,!1)})),a.wc(1),a.Rb()}if(2&e){const e=t.$implicit;a.Ab(1),a.yc(" ",e.tx_skill," ")}}function g(e,t){if(1&e){const e=a.Tb();a.Sb(0,"div"),a.vc(1,p,3,0,"h5",7),a.vc(2,v,8,4,"div",1),a.Sb(3,"div",8),a.Sb(4,"div",9),a.Sb(5,"div",10),a.Sb(6,"div"),a.Sb(7,"mat-icon",11),a.wc(8,"accessible"),a.Rb(),a.Sb(9,"mat-icon",11),a.wc(10,"pregnant_woman"),a.Rb(),a.Rb(),a.Sb(11,"div"),a.Sb(12,"mat-icon",11),a.wc(13,"child_friendly"),a.Rb(),a.Sb(14,"mat-icon",11),a.wc(15,"elderly"),a.Rb(),a.Rb(),a.Rb(),a.Sb(16,"div",12),a.Sb(17,"p",13),a.wc(18,"Prioritario"),a.Rb(),a.Sb(19,"mat-slide-toggle",14),a.Zb("ngModelChange",(function(t){return a.pc(e),a.dc().blPriority=t})),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.vc(20,k,2,1,"button",15),a.Rb()}if(2&e){const e=a.dc();a.Ab(1),a.jc("ngIf",e.loading),a.Ab(1),a.jc("ngIf",!e.loading),a.Ab(17),a.jc("ngModel",e.blPriority),a.Ab(1),a.jc("ngForOf",e.skills)}}let f=(()=>{class e{constructor(e,t,c,i,n){this.wsService=e,this.ticketsService=t,this.router=c,this.snack=i,this.publicService=n,this.loading=!1,this.blPriority=!1}ngOnInit(){if(this.ticketsService.myTicket)this.snack.open("Usted ya tiene un turno!",null,{duration:2e3}),this.router.navigate(["/public/screen"]);else if(this.ticketsService.companyData){let e=this.ticketsService.companyData._id;this.wsService.emit("enterCompany",e),this.ticketsService.readSkills(e).subscribe(e=>{1===e.skills.length&&e.skills[0].bl_generic&&(e.skills[0].tx_skill="OBTENER TURNO"),this.skills=e.skills})}else this.snack.open("Por favor ingrese una empresa primero.",null,{duration:2e3}),this.router.navigate(["/public"])}createTicket(e){localStorage.getItem("user")?r.a.fire({icon:"error",title:"Tiene una sesi\xf3n de usuario activa",text:"Usted est\xe1 en una p\xe1gina de acceso al p\xfablico pero tiene una sesi\xf3n de usuario activa. Para obtener un turno debe cerrar la sesi\xf3n de usuario o abrir una pesta\xf1a en modo inc\xf3gnito."}):(this.loading=!0,this.ticketsService.createTicket(e,this.wsService.idSocket,this.blPriority).subscribe(e=>{e.ok&&(localStorage.setItem("ticket",JSON.stringify(e.ticket)),this.ticketsService.myTicket=e.ticket,this.loading=!1,this.router.navigate(["/public/screen"]))}))}salir(){localStorage.getItem("company")&&localStorage.removeItem("company"),this.router.navigate(["/public/search"])}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(b.a),a.Mb(l.a),a.Mb(s.b),a.Mb(d.a),a.Mb(u.a))},e.\u0275cmp=a.Gb({type:e,selectors:[["app-tickets"]],decls:16,vars:1,consts:[[1,"saturno-container","shadow-box","animated","fadeIn"],[4,"ngIf"],[1,"saturno-footer"],[1,"row"],[1,"col"],["routerLink","/public/search",1,"footer-icon-menu"],["routerLink","/public/screen",1,"footer-icon-menu"],["class","card-title",4,"ngIf"],[1,"container"],[1,"row","rounded","border","border-success","mb-3"],[1,"col","bg-success","text-white","p-2"],[1,"m-2","mr-3",2,"font-size","xx-large"],[1,"col","m-3"],[1,"text-uppercase","mx-2","font-weight-bold"],[3,"ngModel","ngModelChange"],["class","btn btn-primary btn-block btn-lg skill-button text-uppercase",3,"click",4,"ngFor","ngForOf"],[1,"card-title"],["id","lblNuevoTicket"],[1,"lead"],[1,"card","py-4","my-4"],[1,"text-company"],[1,"my-0",2,"color","darkblue","font-size","1rem","font-weight","400"],[1,"btn","btn-primary","btn-block","btn-lg","skill-button","text-uppercase",3,"click"]],template:function(e,t){1&e&&(a.Sb(0,"div",0),a.vc(1,g,21,4,"div",1),a.Sb(2,"div",2),a.Sb(3,"div",3),a.Sb(4,"div",4),a.Sb(5,"span",5),a.Sb(6,"mat-icon"),a.wc(7,"search"),a.Rb(),a.Sb(8,"div"),a.wc(9,"Volver al buscador"),a.Rb(),a.Rb(),a.Rb(),a.Sb(10,"div",4),a.Sb(11,"span",6),a.Sb(12,"mat-icon"),a.wc(13,"list_alt"),a.Rb(),a.Sb(14,"div"),a.wc(15,"Ver la pantalla"),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb()),2&e&&(a.Ab(1),a.jc("ngIf",t.ticketsService.companyData))},directives:[i.j,s.c,m.a,S.a,n.o,n.r,i.i],styles:[".skill-button[_ngcontent-%COMP%]{border-radius:0;border-color:#bebeff #4f4fa7 #5c5cc0 #dcdcff;border-style:solid;border-width:1px}"]}),e})();var h=c("mrSG"),R=c("XNiG"),y=c("qfBg");function w(e,t){1&e&&(a.Sb(0,"div",21),a.wc(1,"\xbfPodr\xeda dejarnos su opini\xf3n sobre la calidad de atenci\xf3n?"),a.Rb())}const _=function(e){return{"screen-icon-star-on":e}};function T(e,t){if(1&e){const e=a.Tb();a.Sb(0,"tr"),a.Sb(1,"td",22),a.wc(2),a.Rb(),a.Sb(3,"td",23),a.Sb(4,"mat-icon",24),a.Zb("click",(function(){a.pc(e);const c=t.$implicit;return a.dc(2).setScore(c._id,1)})),a.wc(5,"star"),a.Rb(),a.Rb(),a.Sb(6,"td",23),a.Sb(7,"mat-icon",24),a.Zb("click",(function(){a.pc(e);const c=t.$implicit;return a.dc(2).setScore(c._id,2)})),a.wc(8,"star"),a.Rb(),a.Rb(),a.Sb(9,"td",23),a.Sb(10,"mat-icon",24),a.Zb("click",(function(){a.pc(e);const c=t.$implicit;return a.dc(2).setScore(c._id,3)})),a.wc(11,"star"),a.Rb(),a.Rb(),a.Sb(12,"td",23),a.Sb(13,"mat-icon",24),a.Zb("click",(function(){a.pc(e);const c=t.$implicit;return a.dc(2).setScore(c._id,4)})),a.wc(14,"star"),a.Rb(),a.Rb(),a.Sb(15,"td",23),a.Sb(16,"mat-icon",24),a.Zb("click",(function(){a.pc(e);const c=t.$implicit;return a.dc(2).setScore(c._id,5)})),a.wc(17,"star"),a.Rb(),a.Rb(),a.Rb()}if(2&e){const e=t.$implicit,c=a.dc(2);a.Ab(2),a.yc(" ",null==e.id_skill?null:e.id_skill.tx_skill," "),a.Ab(2),a.jc("ngClass",a.mc(6,_,c.scores.get(e._id)>=1)),a.Ab(3),a.jc("ngClass",a.mc(8,_,c.scores.get(e._id)>=2)),a.Ab(3),a.jc("ngClass",a.mc(10,_,c.scores.get(e._id)>=3)),a.Ab(3),a.jc("ngClass",a.mc(12,_,c.scores.get(e._id)>=4)),a.Ab(3),a.jc("ngClass",a.mc(14,_,c.scores.get(e._id)>=5))}}function x(e,t){if(1&e&&(a.Sb(0,"div",15),a.Sb(1,"div",7),a.wc(2,"SU OPINION"),a.Rb(),a.Sb(3,"div",16),a.Sb(4,"div"),a.wc(5,"\xa1Su turno ha finalizado!"),a.Rb(),a.vc(6,w,2,0,"div",17),a.Sb(7,"div",18),a.Sb(8,"table",19),a.vc(9,T,18,16,"tr",20),a.Rb(),a.Rb(),a.Rb(),a.Rb()),2&e){const e=a.dc();a.Ab(6),a.jc("ngIf",e.ticketsService.allMytickets.length>0),a.Ab(3),a.jc("ngForOf",e.ticketsService.allMytickets)}}function I(e,t){if(1&e&&(a.Sb(0,"div"),a.Sb(1,"span",28),a.wc(2),a.Rb(),a.Rb()),2&e){const e=a.dc(2);a.Ab(2),a.zc(" ",null==e.ticketsService.myTicket?null:e.ticketsService.myTicket.id_skill.cd_skill," ",null==e.ticketsService.myTicket?null:e.ticketsService.myTicket.id_position," ")}}function A(e,t){if(1&e&&(a.Sb(0,"div",29),a.Sb(1,"div",30),a.Sb(2,"div",31),a.wc(3," Por favor pase por el escritorio "),a.Rb(),a.Rb(),a.Sb(4,"div",30),a.Sb(5,"div",32),a.wc(6),a.Rb(),a.Rb(),a.Rb()),2&e){const e=a.dc(2);a.Ab(6),a.yc(" ",null==e.ticketsService.myTicket||null==e.ticketsService.myTicket.id_session||null==e.ticketsService.myTicket.id_session.id_desktop?null:e.ticketsService.myTicket.id_session.id_desktop.cd_desktop," ")}}function j(e,t){if(1&e&&(a.Sb(0,"div",25),a.Sb(1,"div",7),a.wc(2,"SU TURNO"),a.Rb(),a.Sb(3,"div",26),a.vc(4,I,3,2,"div",11),a.vc(5,A,7,1,"div",27),a.Rb(),a.Rb()),2&e){const e=a.dc();a.Ab(4),a.jc("ngIf",!(null!=e.ticketsService.myTicket&&e.ticketsService.myTicket.id_session)),a.Ab(1),a.jc("ngIf",null==e.ticketsService.myTicket?null:e.ticketsService.myTicket.id_session)}}function C(e,t){1&e&&(a.Sb(0,"div"),a.Sb(1,"span",36),a.wc(2," -- -- "),a.Rb(),a.Rb())}function O(e,t){if(1&e&&(a.Sb(0,"span",28),a.wc(1),a.Rb()),2&e){const e=a.dc(2);a.Ab(1),a.zc(" ",null==e.ticketsService.lastTicket||null==e.ticketsService.lastTicket.id_skill?null:e.ticketsService.lastTicket.id_skill.cd_skill," ",null==e.ticketsService.lastTicket?null:e.ticketsService.lastTicket.id_position," ")}}function M(e,t){if(1&e&&(a.Sb(0,"div",33),a.Sb(1,"div",7),a.wc(2,"ULTIMO TURNO"),a.Rb(),a.Sb(3,"div",34),a.vc(4,C,3,0,"div",11),a.Sb(5,"div"),a.vc(6,O,2,2,"span",35),a.Rb(),a.Rb(),a.Rb()),2&e){const e=a.dc();a.Ab(4),a.jc("ngIf",!e.ticketsService.lastTicket),a.Ab(2),a.jc("ngIf",e.ticketsService.lastTicket)}}function P(e,t){1&e&&(a.Sb(0,"tr"),a.Sb(1,"td"),a.wc(2,"--"),a.Rb(),a.Sb(3,"td"),a.wc(4,"--"),a.Rb(),a.Sb(5,"td"),a.wc(6,"--"),a.Rb(),a.Rb())}function E(e,t){1&e&&(a.Sb(0,"span",43),a.Sb(1,"mat-icon",44),a.wc(2,"campaign"),a.Rb(),a.Rb())}function N(e,t){1&e&&(a.Sb(0,"span",45),a.Sb(1,"mat-icon",44),a.wc(2,"replay"),a.Rb(),a.Rb())}function z(e,t){1&e&&(a.Sb(0,"span",46),a.Sb(1,"mat-icon",44),a.wc(2,"check"),a.Rb(),a.Rb())}function U(e,t){if(1&e&&(a.Sb(0,"tr",37),a.Sb(1,"td",38),a.wc(2),a.Rb(),a.Sb(3,"td",38),a.wc(4),a.Rb(),a.Sb(5,"td",39),a.vc(6,E,3,0,"span",40),a.vc(7,N,3,0,"span",41),a.vc(8,z,3,0,"span",42),a.Rb(),a.Rb()),2&e){const e=t.$implicit;a.Ab(2),a.zc("",null==e.id_skill?null:e.id_skill.cd_skill,"",e.id_position,""),a.Ab(2),a.xc(e.id_session.id_desktop.cd_desktop),a.Ab(2),a.jc("ngIf",!e.tm_end),a.Ab(1),a.jc("ngIf",e.id_child&&e.tm_end),a.Ab(1),a.jc("ngIf",!e.id_child&&e.tm_end)}}const D=function(e){return{"button-disabled":e}};function Z(e,t){if(1&e){const e=a.Tb();a.Sb(0,"div",47),a.Sb(1,"div",30),a.Sb(2,"div",48),a.Sb(3,"button",49),a.Zb("click",(function(){return a.pc(e),a.dc().cancelTicket()})),a.Sb(4,"div"),a.Sb(5,"mat-icon"),a.wc(6,"power_settings_new"),a.Rb(),a.Rb(),a.Sb(7,"div",50),a.wc(8," Cancelar Turno "),a.Rb(),a.Rb(),a.Rb(),a.Sb(9,"div",48),a.Sb(10,"button",51),a.Zb("click",(function(){return a.pc(e),a.dc().enCamino()})),a.Sb(11,"div"),a.Sb(12,"mat-icon"),a.wc(13,"directions_walk"),a.Rb(),a.Rb(),a.Sb(14,"div",50),a.wc(15," \xa1En camino! "),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb()}if(2&e){const e=a.dc();a.Ab(3),a.jc("disabled",!e.ticketsService.myTicket)("ngClass",a.mc(4,D,!e.ticketsService.myTicket)),a.Ab(7),a.jc("disabled",!(null!=e.ticketsService.myTicket&&e.ticketsService.myTicket.id_session)||e.coming)("ngClass",a.mc(6,D,!(null!=e.ticketsService.myTicket&&e.ticketsService.myTicket.id_session)||e.coming))}}function $(e,t){1&e&&(a.Sb(0,"div",52),a.Sb(1,"div",30),a.Sb(2,"div",53),a.Sb(3,"span",54),a.Sb(4,"mat-icon"),a.wc(5,"home"),a.Rb(),a.Sb(6,"div"),a.wc(7,"Inicio"),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb())}let F=(()=>{class e{constructor(e,t,c,i,n){this.wsService=e,this.ticketsService=t,this.userService=c,this.snack=i,this.router=n,this.loading=!1,this.coming=!1,this.scores=new Map,this.subjectUpdateTickets$=new R.a}ngOnInit(){this.coming=!1,document.getElementsByTagName("body")[0].classList.remove("container"),this.wsService.escucharUpdatePublic().subscribe(this.subjectUpdateTickets$),this.subjectUpdateTickets$.subscribe(()=>{this.getTickets()}),this.userService.user||this.ticketsService.companyData||(this.router.navigate(["/public"]),this.snack.open("Por favor ingrese una empresa primero!",null,{duration:5e3})),this.ticketsService.getTickets()}getTickets(){return Object(h.a)(this,void 0,void 0,(function*(){return this.ticketsService.getTickets().then(e=>{const t=new Audio;t.src="../../assets/bell.wav",t.load(),t.play()}).catch(()=>{this.userService.snackShow("Error al obtener los tickets",2e3)})}))}toggle(e){e.toggle()}enCamino(){this.coming=!0,this.wsService.emit("cliente-en-camino",this.ticketsService.myTicket.id_socket_desk)}cancelTicket(){this.snack.open("Desea cancelar el turno?","SI, CANCELAR",{duration:1e4}).afterDismissed().subscribe(e=>{e.dismissedByAction&&this.ticketsService.cancelTicket(this.ticketsService.myTicket._id).subscribe(e=>{e.ok&&(this.snack.open(e.msg,"ACEPTAR",{duration:2e3}),this.ticketsService.clearPublicSession(),this.router.navigate(["/public"]))})})}setScore(e,t){if(this.scores.set(e,t),this.ticketsService.allMytickets.length===this.scores.size){let e=[];this.scores.forEach((function(t,c,i){e.push({id_ticket:c,cd_score:t})})),this.ticketsService.sendScores(e).subscribe(e=>{console.log(e)}),r.a.mixin({toast:!0,position:"center",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,onOpen:e=>{e.addEventListener("mouseenter",r.a.stopTimer),e.addEventListener("mouseleave",r.a.resumeTimer)}}).fire({icon:"success",title:"\xa1Gracias!"}).then(e=>{e.isDismissed&&this.ticketsService.clearPublicSessionComplete()})}}ngOnDestroy(){this.subjectUpdateTickets$.complete()}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(b.a),a.Mb(l.a),a.Mb(y.a),a.Mb(d.a),a.Mb(s.b))},e.\u0275cmp=a.Gb({type:e,selectors:[["app-screen"]],decls:24,vars:7,consts:[[1,"saturno-screen"],[1,"row","p-2","pb-5","animated","fadeIn"],[1,"col-sm-6"],["class","card text-white bg-danger mb-4",4,"ngIf"],["class","card rounded-0 bg-success text-white mb-4",4,"ngIf"],["class","card rounded-0 text-white bg-danger mb-4",4,"ngIf"],[1,"card","rounded-0","text-white","bg-primary","mb-4"],[1,"card-header","screen-text-title"],[1,"banner-content","bg-light","text-primary"],[1,"w-100","table-sm","text-center"],[1,"screen-text-subtitled"],[4,"ngIf"],["class","screen-text-history",4,"ngFor","ngForOf"],["class","container bg-light fixed-bottom shadow-box no-radius text-center py-1",4,"ngIf"],["class","saturno-footer",4,"ngIf"],[1,"card","text-white","bg-danger","mb-4"],[1,"banner-content","p-3",2,"background-color","rgb(141, 51, 51)"],["class","lead my-2",4,"ngIf"],[1,"text-white","my-4","table-responsive-sm"],[1,"table","table-sm","text-white"],[4,"ngFor","ngForOf"],[1,"lead","my-2"],[1,"py-2",2,"width","50%","text-align","left"],[1,"py-2"],[1,"screen-icon-star",3,"ngClass","click"],[1,"card","rounded-0","bg-success","text-white","mb-4"],[1,"banner-content","bg-light","text-success"],["class","banner-content ",4,"ngIf"],[1,"screen-text-big"],[1,"banner-content"],[1,"row"],[1,"col","xl"],[1,"col","xxxl"],[1,"card","rounded-0","text-white","bg-danger","mb-4"],[1,"banner-content","bg-light","text-danger",2,"background-color","rgb(141, 51, 51)"],["class","screen-text-big",4,"ngIf"],[1,"xxxxl"],[1,"screen-text-history"],[2,"text-align","center"],[2,"padding","0","vertical-align","middle"],["style","color: blueviolet",4,"ngIf"],["style","color: red",4,"ngIf"],["style","color: green",4,"ngIf"],[2,"color","blueviolet"],[1,"screen-icons"],[2,"color","red"],[2,"color","green"],[1,"container","bg-light","fixed-bottom","shadow-box","no-radius","text-center","py-1"],[1,"col-6","button-content"],[1,"btn","btn-danger","button",3,"disabled","ngClass","click"],[1,"button-inner"],[1,"btn","btn-success","button",3,"disabled","ngClass","click"],[1,"saturno-footer"],[1,"col"],["routerLink","/home",1,"footer-icon-menu"]],template:function(e,t){1&e&&(a.Sb(0,"div",0),a.Sb(1,"div",1),a.Sb(2,"div",2),a.vc(3,x,10,2,"div",3),a.vc(4,j,6,2,"div",4),a.vc(5,M,7,2,"div",5),a.Nb(6,"div"),a.Rb(),a.Sb(7,"div",2),a.Sb(8,"div",6),a.Sb(9,"div",7),a.wc(10,"HISTORIAL"),a.Rb(),a.Sb(11,"div",8),a.Sb(12,"table",9),a.Sb(13,"tr"),a.Sb(14,"td",10),a.wc(15," TURNO "),a.Rb(),a.Sb(16,"td",10),a.wc(17," ESCRITORIO"),a.Rb(),a.Sb(18,"td",10),a.wc(19," ESTADO "),a.Rb(),a.Rb(),a.vc(20,P,7,0,"tr",11),a.vc(21,U,9,6,"tr",12),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.vc(22,Z,16,8,"div",13),a.vc(23,$,8,0,"div",14)),2&e&&(a.Ab(3),a.jc("ngIf",null===t.ticketsService.myTicket&&null!==t.ticketsService.myTicketTmEnd),a.Ab(1),a.jc("ngIf",t.ticketsService.myTicket),a.Ab(1),a.jc("ngIf",!t.ticketsService.myTicket&&null===t.ticketsService.myTicketTmEnd),a.Ab(15),a.jc("ngIf",0===t.ticketsService.ticketsTail.length),a.Ab(1),a.jc("ngForOf",t.ticketsService.ticketsTail),a.Ab(1),a.jc("ngIf",t.ticketsService.myTicket),a.Ab(1),a.jc("ngIf",!t.ticketsService.myTicket))},directives:[i.j,i.i,m.a,i.h,s.c],styles:[".example-button-container[_ngcontent-%COMP%]{display:flex;justify-content:right;width:120px}.screen-icon-star[_ngcontent-%COMP%]{cursor:pointer;transform:scale(2);color:#b64444;top:3px;position:relative;font-size:large}.screen-icon-star-on[_ngcontent-%COMP%]{color:orange}.button-disabled[_ngcontent-%COMP%]{background-color:#f1f1f1;color:#c7c7c7}.screen-text-title[_ngcontent-%COMP%]{font-size:calc(.7em + 1.5vw)}.screen-text-big[_ngcontent-%COMP%]{font-weight:500;font-size:calc(3em + 5vw)}.screen-text-history[_ngcontent-%COMP%]{font-size:calc(1.5em + 1.5vw);border-top:1px solid rgba(98,98,214,.2)}.screen-text-subtitled[_ngcontent-%COMP%]{color:#2f4f4f;border-top:none;font-size:calc(.5em + .8vw)}.screen-icons[_ngcontent-%COMP%]{font-size:calc(.5em + 1.5vw)}"]}),e})();var L=c("Q2Ze"),B=c("e6WT"),G=c("vrAh"),J=c("UhP/");function V(e,t){if(1&e&&(a.Sb(0,"mat-option",17),a.wc(1),a.Rb()),2&e){const e=t.$implicit;a.jc("value",e),a.Ab(1),a.yc(" ",e.tx_company_name," ")}}function q(e,t){if(1&e){const e=a.Tb();a.Sb(0,"div",4),a.Sb(1,"h2"),a.wc(2,"Ingrese la empresa"),a.Rb(),a.Nb(3,"hr",5),a.Sb(4,"mat-icon",6),a.wc(5,"apartment"),a.Rb(),a.Sb(6,"mat-icon",6),a.wc(7,"house"),a.Rb(),a.Sb(8,"mat-icon",6),a.wc(9,"storefront"),a.Rb(),a.Sb(10,"mat-icon",6),a.wc(11,"deck"),a.Rb(),a.Sb(12,"mat-icon",6),a.wc(13,"location_city"),a.Rb(),a.Sb(14,"mat-icon",6),a.wc(15,"account_balance"),a.Rb(),a.Sb(16,"p",7),a.wc(17,'La empresa debe estar registrada, por ejemplo "Pizza Dots".'),a.Rb(),a.Sb(18,"div",8),a.Sb(19,"mat-form-field",9),a.Sb(20,"mat-label"),a.wc(21,"Ingrese la empresa aqu\xed"),a.Rb(),a.Sb(22,"input",10,11),a.Zb("keyup",(function(){a.pc(e);const t=a.oc(23);return a.dc().findCompany(t)})),a.Rb(),a.Sb(24,"span",12),a.Zb("click",(function(){a.pc(e);const t=a.oc(23);return a.dc().cleanInput(t)})),a.Nb(25,"i",13),a.Rb(),a.Rb(),a.Sb(26,"mat-autocomplete",14,15),a.Zb("optionSelected",(function(t){return a.pc(e),a.dc().setCompany(t.option.value)})),a.vc(28,V,2,2,"mat-option",16),a.Rb(),a.Rb(),a.Rb()}if(2&e){const e=a.oc(27),t=a.dc();a.Ab(22),a.jc("matAutocomplete",e)("value",null==t.companySelected?null:t.companySelected.tx_company_name),a.Ab(6),a.jc("ngForOf",t.companies)}}function H(e,t){if(1&e){const e=a.Tb();a.Sb(0,"div",18),a.Sb(1,"p",7),a.wc(2," Usted esta por ir hacia la recepci\xf3n de turnos de "),a.Rb(),a.Sb(3,"div",19),a.Sb(4,"p",20),a.wc(5),a.Rb(),a.Sb(6,"p",21),a.wc(7),a.Rb(),a.Rb(),a.Sb(8,"button",22),a.Zb("click",(function(){return a.pc(e),a.dc().goToCompany()})),a.wc(9),a.Rb(),a.Rb()}if(2&e){const e=a.dc();a.Ab(5),a.yc(" ",e.companySelected.tx_company_name," "),a.Ab(2),a.Ac(" ",e.companySelected.tx_address_street," ",e.companySelected.tx_address_number," ",e.companySelected.cd_city," "),a.Ab(2),a.yc("Ir a ",e.companySelected.tx_company_name," ")}}let K=(()=>{class e{constructor(e,t,c,i){this.router=e,this.ticketsService=t,this.wsService=c,this.snack=i,this.companies=[]}ngOnInit(){}ngAfterViewInit(){document.getElementById("inputCompany").focus()}findCompany(e){e.value.length>1&&this.ticketsService.findCompany(e.value).subscribe(t=>{t.ok?this.companies=t.companies:(e.value="",this.snack.open("No existen resultados.",null,{duration:1e3}))},()=>{this.snack.open("Error al obtener las empresas",null,{duration:2e3})})}goToCompany(){this.companySelected&&(localStorage.setItem("company",JSON.stringify(this.companySelected)),this.ticketsService.companyData=this.companySelected,this.router.navigate(["/public/",this.companySelected.tx_public_name]))}setCompany(e){this.companySelected=e}cleanInput(e){e.value=null}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(s.b),a.Mb(l.a),a.Mb(b.a),a.Mb(d.a))},e.\u0275cmp=a.Gb({type:e,selectors:[["app-search"]],decls:5,vars:2,consts:[[1,"saturno-container","shadow-box","animated","fadeIn"],["class","jumbotron text-dark",4,"ngIf"],["class","animated fadeIn jumbotron",4,"ngIf"],["routerLink","/",2,"cursor","pointer"],[1,"jumbotron","text-dark"],[1,"saturno-hr-grey"],[1,"mat-icon-search-company"],[1,"lead"],[1,"my-2"],["color","warn","appearance","fill","logincss","",1,"w-100"],["id","inputCompany","matInput","","placeholder","Empresa S.A.",3,"matAutocomplete","value","keyup"],["inputCompany",""],[1,"input-icon",3,"click"],[1,"mdi","mdi-close"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"animated","fadeIn","jumbotron"],[1,"card","py-4","my-4"],[1,"text-company"],[1,"my-0",2,"color","darkblue","font-size","1rem","font-weight","400"],[1,"btn","btn-success","btn-lg","btn-block",3,"click"]],template:function(e,t){1&e&&(a.Sb(0,"div",0),a.vc(1,q,29,3,"div",1),a.vc(2,H,10,5,"div",2),a.Sb(3,"div",3),a.wc(4," Volver al inicio "),a.Rb(),a.Rb()),2&e&&(a.Ab(1),a.jc("ngIf",!t.companySelected),a.Ab(1),a.jc("ngIf",t.companySelected))},directives:[i.j,s.c,m.a,L.c,L.f,B.b,G.c,G.a,i.i,J.l],styles:[""]}),e})();var W=c("AIE+");const Q=[{path:"tickets",component:f},{path:"screen",component:F},{path:"",component:K},{path:":userCompanyName",component:c("R44i").a},{path:"**",component:W.a}];let X=(()=>{class e{}return e.\u0275mod=a.Kb({type:e}),e.\u0275inj=a.Jb({factory:function(t){return new(t||e)},imports:[[s.e.forChild(Q)],s.e]}),e})();var Y=c("1+r1"),ee=c("j1ZV");let te=(()=>{class e{}return e.\u0275mod=a.Kb({type:e}),e.\u0275inj=a.Jb({factory:function(t){return new(t||e)},imports:[[i.b,n.s,n.i,Y.a,ee.a,X]]}),e})()}}]);