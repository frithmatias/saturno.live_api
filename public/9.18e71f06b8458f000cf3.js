(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"+E7R":function(e,t,n){"use strict";n.r(t),n.d(t,"SuperuserModule",(function(){return y}));var r=n("SVse"),i=n("iInd"),c=n("AIE+"),o=n("8Y7J"),s=n("IheW"),u=n("AytR"),a=n("EFyh");let d=(()=>{class e{constructor(e,t){this.http=e,this.loginService=t}createMenu(e){const t=new s.c({"turnos-token":this.loginService.token});return this.http.post(u.a.url+"/su/createmenu",e,{headers:t})}readMenus(){const e=new s.c({"turnos-token":this.loginService.token});return this.http.get(u.a.url+"/su/readmenus/",{headers:e})}updateMenu(e){const t=new s.c({"turnos-token":this.loginService.token});return this.http.post(u.a.url+"/su/updatemenu",e,{headers:t})}}return e.\u0275fac=function(t){return new(t||e)(o.Wb(s.a),o.Wb(a.a))},e.\u0275prov=o.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var l=n("s7LF"),b=n("LRne"),m=n("zuHl"),p=n("Q2Ze"),h=n("e6WT");function f(e,t){1&e&&(o.Sb(0,"button",11),o.xc(1," Crear Menu "),o.Rb())}function S(e,t){if(1&e&&(o.Sb(0,"div",8),o.Sb(1,"div",9),o.wc(2,f,2,0,"button",10),o.Rb(),o.Rb()),2&e){const e=o.dc();o.Ab(2),o.jc("ngIf",!e.menuEdit)}}function v(e,t){if(1&e){const e=o.Tb();o.Sb(0,"div",12),o.Sb(1,"div",13),o.Sb(2,"button",14),o.xc(3," Guardar "),o.Rb(),o.Rb(),o.Sb(4,"div",9),o.Sb(5,"button",15),o.Zb("click",(function(){o.qc(e);const t=o.dc(),n=o.pc(1);return t.resetForm(n)})),o.xc(6," Limpiar "),o.Rb(),o.Rb(),o.Rb()}}let w=(()=>{class e{constructor(e,t,n){this.loginService=e,this.sharedService=t,this.superuserService=n,this.idMenuUpdated=new o.n,this.menus=[],this.manejaError=e=>Object(b.a)(e)}ngOnInit(){this.forma=new l.g({cd_role:new l.e(null,l.u.required),tx_titulo:new l.e(null,l.u.required),tx_icon:new l.e(null,l.u.required)})}ngOnChanges(e){var t;null===(t=this.forma)||void 0===t||t.patchValue({cd_role:e.menuEdit.currentValue.cd_role,tx_titulo:e.menuEdit.currentValue.tx_titulo,tx_icon:e.menuEdit.currentValue.tx_icon})}createMenu(e){if(this.forma.invalid)return void this.sharedService.snackShow("Formulario invalido",2e3);const t={cd_role:this.forma.value.cd_role,tx_titulo:this.forma.value.tx_titulo,tx_icon:this.forma.value.tx_icon,_id:null};this.menuEdit?(t._id=this.menuEdit._id,this.superuserService.updateMenu(t).subscribe(t=>{t.ok&&(this.idMenuUpdated.emit(t.menu._id),this.sharedService.snackShow(t.msg,5e3),this.resetForm(e))},e=>{this.sharedService.snackShow(e.error.msg,5e3)})):this.superuserService.createMenu(t).subscribe(t=>{this.idMenuUpdated.emit(t.menu._id),this.sharedService.snackShow(t.msg,5e3),this.resetForm(e),e.resetForm()},e=>{this.sharedService.snackShow(e.error.msg,5e3)})}resetForm(e){this.menuEdit=null,this.forma.enable(),this.forma.reset(),e.resetForm(),this.sharedService.scrollTop()}}return e.\u0275fac=function(t){return new(t||e)(o.Mb(a.a),o.Mb(m.a),o.Mb(d))},e.\u0275cmp=o.Gb({type:e,selectors:[["app-menu-create-form"]],inputs:{menuEdit:"menuEdit"},outputs:{idMenuUpdated:"idMenuUpdated"},features:[o.yb],decls:16,vars:3,consts:[["autocomplete","off","ngNativeValidate","",2,"color","brown",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["color","warn",1,"w-100"],["matInput","","placeholder","Codigo Rol","formControlName","cd_role","name","cd_role","type","text","required","","placeholder","Nombre"],["matInput","","placeholder","Titulo","formControlName","tx_titulo","name","tx_titulo","type","text","required",""],["matInput","","placeholder","Icono","formControlName","tx_icon","name","tx_icon","type","text","required","","placeholder","Contrase\xf1a","autocomplete","new-password"],["class","row text-center",4,"ngIf"],["class","row",4,"ngIf"],[1,"row","text-center"],[1,"col"],["class","btn btn-success btn-block text-uppercase","type","submit",4,"ngIf"],["type","submit",1,"btn","btn-success","btn-block","text-uppercase"],[1,"row"],[1,"col","w-100"],["type","submit",1,"btn","btn-danger","btn-block","text-uppercase"],[1,"btn","btn-warning","btn-block","text-uppercase",3,"click"]],template:function(e,t){if(1&e){const e=o.Tb();o.Sb(0,"form",0,1),o.Zb("ngSubmit",(function(){o.qc(e);const n=o.pc(1);return t.createMenu(n)})),o.Sb(2,"mat-form-field",2),o.Sb(3,"mat-label"),o.xc(4,"C\xf3digo de Rol"),o.Rb(),o.Nb(5,"input",3),o.Rb(),o.Sb(6,"mat-form-field",2),o.Sb(7,"mat-label"),o.xc(8,"Titulo"),o.Rb(),o.Nb(9,"input",4),o.Rb(),o.Sb(10,"mat-form-field",2),o.Sb(11,"mat-label"),o.xc(12,"Icono"),o.Rb(),o.Nb(13,"input",5),o.Rb(),o.wc(14,S,3,1,"div",6),o.wc(15,v,7,0,"div",7),o.Rb()}2&e&&(o.jc("formGroup",t.forma),o.Ab(14),o.jc("ngIf",!t.menuEdit),o.Ab(1),o.jc("ngIf",t.menuEdit))},directives:[l.p,l.h,p.c,p.f,h.b,l.d,l.o,l.f,l.t,r.j],styles:[""]}),e})();function g(e,t){1&e&&o.Nb(0,"span",16)}function x(e,t){if(1&e){const e=o.Tb();o.Sb(0,"tr"),o.Sb(1,"td"),o.xc(2),o.Rb(),o.Sb(3,"td"),o.wc(4,g,1,0,"span",12),o.Rb(),o.Sb(5,"td",13),o.Sb(6,"span",14),o.Zb("click",(function(){o.qc(e);const n=t.$implicit;return o.dc().editMenu(n)})),o.Rb(),o.Sb(7,"span",15),o.Zb("click",(function(){o.qc(e);const n=t.$implicit;return o.dc().deleteMenu(n._id)})),o.Rb(),o.Rb(),o.Rb()}if(2&e){const e=t.$implicit,n=o.dc();o.Ab(2),o.zc("",null==e?null:e.tx_titulo," "),o.Ab(2),o.jc("ngIf",e._id===n.menuUpdated)}}let R=(()=>{class e{constructor(e){this.superuserService=e,this.menus=[]}ngOnInit(){this.readMenus()}editMenu(e){this.menuEdit=e}menuUpdated(e){this.idMenuUpdated=e,this.readMenus()}readMenus(){this.superuserService.readMenus().subscribe(e=>{this.menus=e.menu})}}return e.\u0275fac=function(t){return new(t||e)(o.Mb(d))},e.\u0275cmp=o.Gb({type:e,selectors:[["app-menu"]],decls:15,vars:2,consts:[[1,"animated","saturno-container","fadeIn"],[1,"card","bg-secondary","text-white"],[1,"card-header"],[1,"mdi","mdi-menu-open"],[1,"card-body","table-responsive-sm"],["id","wt-form",1,"table","table-sm","text-white"],[4,"ngFor","ngForOf"],[1,"my-4"],[1,"card"],[1,"mdi","mdi-plus-circle-outline"],[1,"card-body"],[3,"menuEdit","idMenuUpdated"],["class","mdi mdi-check ml-2 list-crud-edit",4,"ngIf"],[2,"text-align","right"],[1,"mdi","mdi-pencil","ml-2","list-crud-edit",3,"click"],[1,"mdi","mdi-delete","ml-2","list-crud-delete",3,"click"],[1,"mdi","mdi-check","ml-2","list-crud-edit"]],template:function(e,t){1&e&&(o.Sb(0,"div",0),o.Sb(1,"div",1),o.Sb(2,"div",2),o.Nb(3,"span",3),o.xc(4," Menus "),o.Rb(),o.Sb(5,"div",4),o.Sb(6,"table",5),o.wc(7,x,8,2,"tr",6),o.Rb(),o.Rb(),o.Rb(),o.Nb(8,"div",7),o.Sb(9,"div",8),o.Sb(10,"div",2),o.Nb(11,"span",9),o.xc(12," Alta de asistente "),o.Rb(),o.Sb(13,"div",10),o.Sb(14,"app-menu-create-form",11),o.Zb("idMenuUpdated",(function(e){return t.menuUpdated(e)})),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&e&&(o.Ab(7),o.jc("ngForOf",t.menus),o.Ab(7),o.jc("menuEdit",t.menuEdit))},directives:[r.i,w,r.j],styles:[""]}),e})();const M=[{path:"home",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Gb({type:e,selectors:[["app-home"]],decls:2,vars:0,template:function(e,t){1&e&&(o.Sb(0,"p"),o.xc(1,"home works!"),o.Rb())},styles:[""]}),e})()},{path:"menu",component:R},{path:"**",component:c.a}];let _=(()=>{class e{}return e.\u0275mod=o.Kb({type:e}),e.\u0275inj=o.Jb({factory:function(t){return new(t||e)},imports:[[i.e.forChild(M)],i.e]}),e})();var k=n("1+r1");let y=(()=>{class e{}return e.\u0275mod=o.Kb({type:e}),e.\u0275inj=o.Jb({factory:function(t){return new(t||e)},imports:[[r.b,_,l.s,l.i,k.a]]}),e})()}}]);